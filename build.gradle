/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.6/samples
 */

plugins {
    id "java"
    id "com.diffplug.spotless" version "6.25.0"
}

def addDependenciesForTasks(taskNames, includedBuildNames) {
    taskNames.each { taskName ->
        tasks.named(taskName) {
            includedBuildNames.each { includedBuildName ->
                dependsOn(gradle.includedBuild(includedBuildName).task(":${taskName}"))
            }
        }
    }
}

addDependenciesForTasks(
        ["clean", "spotlessApply", "test"],
        ["bank-common", "command-api", "query-api"])
